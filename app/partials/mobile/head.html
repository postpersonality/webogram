<style>
  html {
    background: white!important;
  }
  .page_wrap {
    overflow: hidden;
    height: 236px;
    margin-top: 28px;
  }
  .im_page_wrap {
    
  }
  .tg_page_head {
    z-index: 1;
    position: fixed;
    top: 0;
    height: 28px!important;
    width: 100%;
  }
  .tg_page_head .navbar {
    min-height: 28px;
  }
  .tg_page_head .navbar-inverse .navbar-quick-nav > .navbar-quick-right > a,
  .tg_page_head .navbar-inverse .navbar-quick-nav > .navbar-quick-left > a {
    font-size: 12px;
    color: #fff;
    padding: 5px 4px;
    height: 28px;
  }
  .tg_page_head .navbar > .container .navbar-brand {
    padding: 5px 4px;
    margin-left: 0;
    margin-right: 20px;
    display: block;
    line-height: 0;
    height: auto;
  }
  .tg_page_head .navbar > .container .navbar-brand {
    padding: 0;
    margin-left: 0;
    margin-right: 20px;
    display: block;
    line-height: 0;
    height: auto;
  }
  .tg_page_head .container {
    display: block;
    width: auto;
    padding-left: 0;
    padding-right: 0;
    height: 28px;
  }
  .tg_page_head .navbar-inverse .navbar-quick-nav > li > a {
    padding: 6px 10px 2px 6px;
    color: #b9cfe3;
    font-size: 13px;
    height: 28px;
  }
  .navbar-quick-nav .icon-back {
    position: absolute;
    margin-left: -18px;
    margin-top: 0px;
  }
  .navbar-toggle-wrap {
    float: right;
    display: block;
    margin: 0;
    height: 28px;
  }
  .navbar_peer_not_selected .navbar-toggle-wrap .navbar-toggle {
    padding: 7.5px 17px;
  }
  .navbar-toggle-wrap .navbar-toggle {
    float: none;
    display: block;
    margin: 0;
    padding: 2.5px 7.5px;
    border-radius: 0;
  }
  .navbar-peer-wrap {
    margin-right: 0px;
    display: block;
    float: right;
    width: 32px;
    height: 28px;
  }
  .navbar-peer-wrap img {
    margin-top: -3px;
    margin-left: -2px;
    width: 24px;
    height: 24px;
    border-radius: 12px;
    overflow: hidden;
  }
  .tg_logo_wrap {
    line-height: 28px !important;
  }
  .icon-tg-logo {
    width: 30px;
    height: 28px;
    display: inline-block;
    vertical-align: top;
    margin-right: 5px;
    background-repeat: no-repeat;
    background-position: -0px -5px;
    background-size: cover;
  }
  .navbar_offline .navbar-offline {
    float: left;
    margin: 0;
    height: 28px;
  }
  .navbar-offline-text {
    color: #b9cfe3;
    padding: 2px 15px;
    font-size: 13px;
    display: block;
    line-height: 28px;
  }
  .dropdown-menu {
    border: none;
    border-radius: 0px;
  }
  .softkey {
    padding: 0 4px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    height: 30px;
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: #000;
    color: white;
    font-weight:bold;
  }
  .softkey a {
    color: white;
    text-decoration:none;
  }
  .softkey .left,
  .softkey .center,
  .softkey .right {
    width: 32%;
  }
  .softkey .left {
    text-align: left;
  }
  .softkey .center {
    text-align: center;
  }
  .softkey .right {
    text-align: right;
  }
  .icon-mic {
    margin-top: 0px;
    width: 25px;
    height: 25px;
    background-position: -9px -283px;
  }
  .icon-paperclip {
    margin-top: 0px;
    width: 25px;
    height: 25px;
    background-position: -12px -68px;
  }
</style>
<div class="tg_page_head">
  <div class="navbar navbar-static-top  navbar-inverse" role="navigation" ng-class="{navbar_peer_not_selected: !curDialog.peer, navbar_offline: offline, navbar_history_select: historyState.selectActions}">
    <div class="container">


      <a id="navbar-peer-wrap" class="navbar-peer-wrap" my-peer-photolink="historyPeer.id" peer-watch="true"></a>

      <div id="navbar-toggle-wrap" class="navbar-toggle-wrap dropdown" dropdown ng-switch="!curDialog.peer">
        <a id="menu_button" style="visibility:hidden;" class="dropdown-toggle navbar-toggle" dropdown-toggle>
<!--
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
-->
        </a>
        <ul id="ul_menu_nav" ng-switch-when="true" class="dropdown-menu" style="margin:0;right:0;width:240px;max-height:236px;overflow-y:scroll;">
          <li class="nav_menu"><a ng-click="openGroup()" my-i18n="head_new_group"></a></li>
          <li class="nav_menu"><a ng-click="importContact()" my-i18n="head_new_contact"></a></li>
          <li class="nav_menu" ng-if="!isEmpty.contacts"><a ng-click="openContacts()" my-i18n="head_contacts"></a></li>
          <li class="nav_menu"><a ng-click="openSettings()" my-i18n="head_settings"></a></li>
          <li class="nav_menu"><a ng-click="logOut()" my-i18n="head_log_out"></a></li>
        </ul>
        <!-- position:static; -->
        <ul id="ul_dialog_nav" ng-switch-default class="dropdown-menu" style="margin:0;right:0;width:240px;max-height:236px;overflow-y:scroll;">
          <li class="nav_dialog"><a ng-click="toggleEdit()" my-i18n="head_select_messages"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType" class="divider"></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('photos')" my-i18n="head_media_photos"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('video')" my-i18n="head_media_video"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('documents')" my-i18n="head_media_documents"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('music')" my-i18n="head_media_music"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('urls')" my-i18n="head_media_links"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('audio')" my-i18n="head_media_audio"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia('round')" my-i18n="head_media_round"></a></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType && isHistoryPeerGroup()" class="divider"></li>
          <li class="nav_dialog" ng-if="!historyFilter.mediaType && isHistoryPeerGroup()"><a ng-click="toggleMedia('mentions')" my-i18n="head_media_mymentions"></a></li>
        </ul>
      </div>

<!--
      <a class="navbar-search-wrap" ng-click="toggleSearch()">
        <i class="icon-search"></i>
      </a>
-->

      <div class="navbar-header">

        <a class="navbar-brand tg_logo_wrap" href="#/im"><i class="icon icon-tg-logo"></i><i class="icon icon-tg-title"></i></a>

        <span class="tg_head_logo"></span></a>

        <div class="tg_head_peer_menu_wrap" ng-switch="curDialog.peer &amp;&amp; historyFilter.mediaType.length > 0">
          <ul ng-switch-when="true" class="nav navbar-nav navbar-quick-nav">
            <li>
              <a ng-click="toggleMedia()" class="navbar-quick-media-back">
<!--
                <i class="icon icon-back"></i>
-->
                <div class="navbar-quick-back-title" ng-switch="historyFilter.mediaType">
                  <h4 ng-switch-when="photos" my-i18n="im_media_photos"></h4>
                  <h4 ng-switch-when="video" my-i18n="im_media_video"></h4>
                  <h4 ng-switch-when="documents" my-i18n="im_media_documents"></h4>
                  <h4 ng-switch-when="audio" my-i18n="im_media_audio"></h4>
                  <h4 ng-switch-when="round" my-i18n="im_media_round"></h4>
                  <h4 ng-switch-when="music" my-i18n="im_media_music"></h4>
                  <h4 ng-switch-when="urls" my-i18n="im_media_links"></h4>
                  <h4 ng-switch-when="mentions" my-i18n="im_media_mentions"></h4>
                </div>
              </a>
            </li>
          </ul>
          <div ng-switch-default ng-switch="historyState.selectActions">
            <ul ng-switch-when="selected" class="nav navbar-navbar navbar-quick-nav navbar-history-edit">
              <li class="navbar-quick-right">
                <a ng-click="toggleEdit()" my-i18n="modal_cancel"></a>
              </li>
              <li class="navbar-quick-left">
                <a ng-click="selectedFlush()" my-i18n="head_clear_all"></a>
              </li>
              <li class="navbar-quick-title" my-i18n="head_select"></li>
            </ul>
            <ul ng-switch-default class="nav navbar-nav navbar-quick-nav" ng-switch="historyPeer.id > 0" style="position:fixed;top:0;background-color:#5682A3;height:28px;width:176px;">
              <li ng-switch-when="true">
                <a href="#/im" class="navbar-quick-profile-back">
<!--
                  <i class="icon icon-back"></i>
-->
                  <div class="navbar-quick-back-title">
                    <h4 my-peer-link="historyPeer.id" peer-watch="true"></h4>
<!--
                    <small ng-switch="historyState.typing.length">
                      <span ng-switch-when="1" class="status_online">
                        <my-i18n msgid="head_typing"></my-i18n><span my-loading-dots></span>
                      </span>
                      <span ng-switch-default my-user-status="historyPeer.id" for-dialog="true"></span>
                    </small>
-->
                  </div>
                </a>
              </li>
              <li ng-switch-default>
                <a href="#/im" class="navbar-quick-group-back">
<!--
                  <i class="icon icon-back"></i>
-->
                  <div class="navbar-quick-back-title">
                    <h4 my-peer-link="historyPeer.id" peer-watch="true" for-dialog="true"></h4>
<!--
                    <small ng-switch="historyState.typing.length">
                      <span ng-switch-when="0" class="tg_head_peer_status" my-chat-status="-historyPeer.id"></span>
                      <my-i18n>
                        <span ng-switch-when="1" class="status_online" my-i18n-format="head_one_typing"></span>
                        <span ng-switch-when="2" class="status_online" my-i18n-format="head_two_typing"></span>
                        <span ng-switch-default class="status_online" my-i18n-format="head_many_typing"></span>
                        <my-i18n-param name="name1"><span my-peer-link="historyState.typing[0]" short="true"></span></my-i18n-param>
                        <my-i18n-param name="name2"><span my-peer-link="historyState.typing[1]" short="true"></span></my-i18n-param>
                        <my-i18n-param name="names" ng-bind="historyState.typing.length - 1"></my-i18n-param>
                        <my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>
                      </my-i18n>
                    </small>
-->
                  </div>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="navbar-menu" ng-if="offline">

        <ul class="nav navbar-nav navbar-offline">
          <li ng-show="!offlineConnecting"><span class="navbar-offline-text"><my-i18n msgid="head_waiting_for_network"></my-i18n><span my-loading-dots></span></span></li>
          <li ng-show="!offlineConnecting" class="hidden-xs"><a href="" ng-click="retryOnline()" my-i18n="head_retry"></a></li>
          <li ng-show="offlineConnecting"><span class="navbar-offline-text"><my-i18n msgid="head_connecting"></my-i18n><span my-loading-dots></span></span></li>
        </ul>
      </div>

      <div class="softkey" ng-if="!curDialog.peer">
        <span class="left"><i class="icon-search" style="margin-top:5px;"></i></span>
        <span class="center">SELECT</span>
        <span class="right">Menu</span>
      </div>

      <div class="softkey" ng-if="curDialog.peer &amp;&amp; !isComposerFocus">
        <span class="left"><i class="icon icon-mic" ng-style="isRecordingAudio ? { borderRadius: '50%', backgroundColor: 'white' } : {}"></i></span>
        <span class="center">MESSAGE</span>
        <span class="right"><i class="icon icon-paperclip"></i></span>
      </div>

      <div class="softkey" ng-if="curDialog.peer &amp;&amp; isComposerFocus">
        <span class="left"><i class="icon icon-emoji" style="margin-top:0px;"></i></span>
        <span class="center">SEND</span>
        <span class="right"></span>
      </div>
    </div>
  </div>
</div>
